---
import { i18n, type Lang } from "../i18n";

const { lang: passedLang } = Astro.props as { lang?: Lang };

const pathLang = Astro.url?.pathname?.split("/")[1];
const lang = (passedLang ?? (pathLang === "en" ? "en" : "de")) as Lang;
const t = i18n[lang] ?? i18n.de;
---

<footer class="site-footer" id="kontakt">
  <div class="site-container footer-inner">
    <div class="footer-contact">
      <h2 class="section-title">
        {t.footer.contactHeadline.prefix}{" "}
        <span class="title-accent">{t.footer.contactHeadline.accent}</span><br />
        {t.footer.contactHeadline.line2}
      </h2>

      <div class="section-divider" aria-hidden="true"></div>

      <ul class="contact-list">
        <li>
          <span class="contact-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" class="contact-ico-svg">
              <path
                d="M9 2.25h6A1.5 1.5 0 0 1 16.5 3.75v16.5A1.5 1.5 0 0 1 15 21.75H9A1.5 1.5 0 0 1 7.5 20.25V3.75A1.5 1.5 0 0 1 9 2.25Z"
              />
              <path d="M9 18h6" />
            </svg>
          </span>
          <a class="contact-link" href="tel:+491752221140">+49 175 2221140</a>
        </li>
        <li>
          <span class="contact-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" class="contact-ico-svg">
              <path
                d="M2.75 6.25c0 8.6 6.97 15.55 15.55 15.55h1.35a1.6 1.6 0 0 0 1.6-1.6v-1.1a1.6 1.6 0 0 0-1.36-1.58l-3.07-.52a1.7 1.7 0 0 0-1.63.63l-.88 1.1a.8.8 0 0 1-.95.23 11 11 0 0 1-4.07-2.65 11 11 0 0 1-2.65-4.07.8.8 0 0 1 .23-.95l1.1-.88a1.7 1.7 0 0 0 .63-1.63l-.52-3.07A1.6 1.6 0 0 0 6 2.75H4.9a1.6 1.6 0 0 0-1.6 1.6Z"
              />
            </svg>
          </span>
          <a class="contact-link" href="tel:+493084108980">+49 30 8410898-0</a>
        </li>
        <li>
          <span class="contact-ico contact-ico--mail" aria-hidden="true">
            <svg viewBox="0 0 24 24" class="contact-ico-svg">
              <path
                d="M3 6.75A1.75 1.75 0 0 1 4.75 5h14.5A1.75 1.75 0 0 1 21 6.75v10.5A1.75 1.75 0 0 1 19.25 19H4.75A1.75 1.75 0 0 1 3 17.25Z"
              />
              <path d="m4 7.5 8 5.25L20 7.5" />
            </svg>
          </span>
          <a class="contact-link contact-link--mail" href="mailto:info@moving-bars.de">info@moving-bars.de</a>
        </li>
      </ul>

      <div class="footer-social" aria-label="Social Media">
        <a
          class="social-link"
          href="https://www.facebook.com/movingbars.de"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Moving Bars auf Facebook"
        >
          <svg
            class="social-svg"
            aria-hidden="true"
            viewBox="0 0 50 50"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M41 4H9C6.24 4 4 6.24 4 9v32c0 2.76 2.24 5 5 5h32c2.76 0 5-2.24 5-5V9c0-2.76-2.24-5-5-5Zm-4 15h-2c-2.14 0-3 .5-3 2v3h5l-1 5h-4v15h-5V29h-4v-5h4v-3c0-4 2-7 6-7 2.9 0 4 1 4 1v4Z"
            />
          </svg>
        </a>

        <a
          class="social-link"
          href="https://www.instagram.com/movingbars/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Moving Bars auf Instagram"
        >
          <svg
            class="social-svg"
            aria-hidden="true"
            viewBox="0 0 50 50"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16 3C8.83 3 3 8.83 3 16v18c0 7.17 5.83 13 13 13h18c7.17 0 13-5.83 13-13V16C47 8.83 41.17 3 34 3H16Zm21 8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-12 3c6.07 0 11 4.93 11 11s-4.93 11-11 11-11-4.93-11-11 4.93-11 11-11Zm0 2c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9Z"
            />
          </svg>
        </a>

        <a
          class="social-link"
          href="https://www.youtube.com/channel/UCXZ4N0aztG3mxyVm1_LVXew"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Moving Bars auf YouTube"
        >
          <svg
            class="social-svg"
            aria-hidden="true"
            viewBox="0 0 50 50"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M44.898 14.5C44.5 12.3 42.602 10.7 40.398 10.2 37.102 9.5 31 9 24.398 9 17.8 9 11.602 9.5 8.3 10.2c-2.2.5-4.102 2-4.5 4.3C3.4 17 3 20.5 3 25c0 4.5.4 8 .9 10.5.4 2.2 2.3 3.8 4.5 4.3C11.898 40.5 17.898 41 24.5 41c6.602 0 12.602-.5 16.102-1.2 2.2-.5 4.098-2 4.5-4.3C45.5 33 46 29.398 46.102 25c-.203-4.5-.703-8-1.203-10.5ZM19 32V18l12.199 7L19 32Z"
            />
          </svg>
        </a>
      </div>
    </div>
    <div class="section-divider section-divider--vertical" aria-hidden="true"></div>
    <div class="footer-highlight" aria-hidden="true">
      <div class="contact-big-icon">
        <svg viewBox="0 0 24 24" class="contact-big-icon-svg">
          <path
            d="M4 4h16c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H9l-5 4v-4H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2Zm4 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
          />
        </svg>
      </div>
    </div>
  </div>
  <div class="footer-meta">
    <div class="footer-links">
      <a href="#">Impressum</a>
      <span aria-hidden="true">|</span>
      <a href="#">Datenschutz</a>
      <span aria-hidden="true">|</span>
      <a href="#">AGB</a>
    </div>
  </div>
</footer>

<style>
  .section-title {
    margin: 0;
    font-size: clamp(2.1rem, 3vw, 3rem);
    line-height: var(--heading-line-height);
  }

  .section-title .title-accent {
    color: var(--accent);
  }

  .site-footer {
    background: #000;
    padding: var(--section-pad-block) 0 var(--footer-pad-block);
    color: var(--text-color);
  }

  .footer-inner {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: clamp(1.5rem, 3vw, 2rem);
    align-items: stretch;
  }

  .footer-contact .section-title {
    margin-bottom: 0.8rem;
  }

  .section-divider {
    width: 100%;
    height: 1px;
    background: var(--accent);
    opacity: 0.9;
  }

  .section-divider--vertical {
    width: 1px;
    height: 100%;
    background: var(--accent);
    opacity: 0.9;
    margin-inline: auto;
  }

  .contact-list {
    list-style: none;
    padding: 0;
    margin: 1.1rem 0 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .contact-list li {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    gap: 0.7rem;
  }

  .contact-ico {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--text-color);
    width: 26px;
    height: 26px;
  }

  .contact-ico--mail {
    color: var(--accent);
  }

  .contact-ico-svg {
    width: 22px;
    height: 22px;
    fill: none;
    stroke: currentColor;
    stroke-width: 1.8;
    stroke-linecap: round;
    stroke-linejoin: round;
    display: block;
  }

  .contact-link {
    color: var(--text-color);
    text-decoration: none;
    font-weight: 700;
  }

  .contact-link:hover {
    color: var(--accent);
  }

.contact-link--mail {
  color: #fff;
}

.contact-link--mail:hover,
.contact-link--mail:focus-visible {
  color: var(--accent);
  outline: none;
}

  .footer-highlight {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .contact-big-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .contact-big-icon-svg {
    width: clamp(140px, 18vw, 240px);
    height: auto;
    fill: var(--accent);
    display: block;
  }

  .footer-meta {
    margin-top: clamp(2rem, 3.5vw, 3rem);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 0.9rem;
    font-size: 0.95rem;
    color: var(--text-muted-color);
  }

  .footer-links {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: 0.6rem;
  }

  .footer-links a {
    color: inherit;
    text-decoration: none;
  }

  .footer-links a:hover {
    color: var(--accent);
  }

  .footer-social {
    display: inline-flex;
    align-items: center;
    gap: 18px;
    margin-top: 1.1rem;
  }

  .footer-social .social-link {
    width: auto;
    height: auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: var(--accent);
    background: transparent;
    border: 0;
    box-shadow: none;
    border-radius: 0;
    padding: 0;
    transition: color 150ms ease;
  }

  .footer-social .social-link:hover,
  .footer-social .social-link:focus-visible {
    color: #fff;
    outline: none;
  }

  .footer-social .social-svg {
    width: 56px;
    height: 56px;
    display: block;
    fill: currentColor;
  }

  @media (max-width: 860px) {
    .footer-inner {
      grid-template-columns: 1fr;
      gap: 1.75rem;
    }

    .section-divider--vertical {
      height: 1px;
      width: 100%;
    }
  }
</style>
