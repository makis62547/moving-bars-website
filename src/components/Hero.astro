---
// src/components/Hero.astro
import Header from "./Header.astro";
import CocktailIcon from "./icons/CocktailIcon.astro";
---

<section id="hero" class="hero parallax-section" data-parallax data-speed="0.25">
  <!-- Parallax bleibt ausschließlich auf dem Hintergrund-Layer -->
  <div class="hero-bg parallax-bg" data-parallax-bg role="presentation"></div>
  <div class="hero-overlay" aria-hidden="true"></div>

  <Header />

  <div class="hero-center">
    <div class="hero-shell">
      <ul class="hero-usp">
        <li><span class="hero-check">✔</span><span>Faire Preise</span></li>
        <li><span class="hero-check">✔</span><span>Langjährige Erfahrung</span></li>
        <li><span class="hero-check">✔</span><span>Beste Cocktails & Longdrinks</span></li>
        <li><span class="hero-check">✔</span><span>Für Privat & Firmen – Events</span></li>
      </ul>

      <a
        class="hero-arrow"
        href="#hero-h1"
        aria-label="Zum Abschnitt: Mobile Cocktailbar mieten in Berlin"
        title="Zum Abschnitt: Mobile Cocktailbar mieten in Berlin"
      >
        ⌄
      </a>
    </div>
  </div>
</section>

<section id="hero-h1" class="intro" aria-labelledby="intro-title">
  <div class="intro-shell site-container">
    <div class="intro-panel">
      <div class="intro-text">
        <h1 id="intro-title" class="intro-title hero-heading display-heading display-size-h1">
          <span class="intro-title-line">
            <span class="intro-title-accent">MOBILE COCKTAILBAR</span>
          </span>
          <span class="intro-title-line">MIETEN IN BERLIN</span>
        </h1>

        <p class="intro-copy">
          Wir lieben Cocktails, perfekten Getränke-Service und wir lieben Veranstaltungen. Mieten Sie unsere mobile Cocktailbar
          in Berlin oder üBARall. Von der Vorbereitung und Planung bis zur Durchführung sind wir Ihr begeisterter Partner, wenn
          es darum geht ein besonderes Erlebnis für Ihre Gäste entstehen zu lassen. Die mobile Cocktailbar, der perfekte Drink,
          der schnelle Service, der Barkeeper, der bei der 2. Bestellung weiß, was man trinkt oder einfach das Lächeln, mit dem
          das Getränk serviert wurde – wir wollen begeistern!
        </p>
      </div>

      <div class="intro-divider" aria-hidden="true"></div>

      <div class="intro-icon" aria-hidden="true">
        <CocktailIcon class="intro-cocktail-icon" />
      </div>
    </div>
  </div>

  <!-- Banner ABSOLUT DIREKT im Intro-Section, damit kein externer Abstand entstehen kann -->
  <div class="intro-banner parallax-section">
    <div class="intro-banner-bg parallax-bg"></div>
  </div>
</section>

<style>
  .hero {
    position: relative;
    min-height: var(--hero-min-height, 100vh);
    width: 100%;
    overflow: hidden;
    background: #000;
  }

.hero-bg {
  position: absolute;
  inset: -25% 0 0 0;      /* Überhöhe für Bewegung */
  height: 150%;
  background-image: url("/images/hero.jpg");
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
  will-change: transform;
}

/* Parallax nur auf Desktop – stabil & sichtbar */
@media (hover: hover) and (pointer: fine) {
  .hero-bg {
    background-attachment: fixed;
  }
}

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.55) 100%);
    z-index: 5;
  }

  .hero-center {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    z-index: 20;
    color: var(--text-color);
  }

  .hero-shell {
    max-width: var(--content-max);
    margin: 0 auto;
    padding-top: 140px;
    padding-left: var(--content-pad);
    padding-right: var(--content-pad);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 2.5rem;
    transform: translateY(-18px);
  }

  .hero-usp {
    display: inline-grid;
    gap: 1.75rem;
    font-size: clamp(1.2rem, 2.1vw, 1.8rem);
    font-weight: 200;
    font-family: "Inter", system-ui, sans-serif;
    text-transform: uppercase;
    line-height: 1.6;
    list-style: none;
    padding: 0;
    margin: 0;
    width: min(820px, 92vw);
    transform: translateY(-32px);
  }

  .hero-usp li {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    opacity: 0;
    transform: translateY(10px);
    animation: uspIn 700ms ease forwards;
  }

  .hero-usp li:nth-child(1) { animation-delay: 0ms; }
  .hero-usp li:nth-child(2) { animation-delay: 250ms; }
  .hero-usp li:nth-child(3) { animation-delay: 500ms; }
  .hero-usp li:nth-child(4) { animation-delay: 750ms; }

  .hero-check {
    color: var(--accent);
    margin-right: 0.5rem;
  }

  @keyframes uspIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-usp li {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }

  .hero-arrow {
    font-size: clamp(2.5rem, 4vw, 3.75rem);
    color: rgba(var(--accent-rgb), 0.9);
    display: inline-block;
    cursor: pointer;
    text-decoration: none;
    align-self: center;
    margin-left: auto;
    margin-right: auto;
    animation: bounce 1.5s infinite;
  }

  .hero-arrow:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 6px;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(10px); }
  }

  /* Intro + Banner: Gap-Killer */
  .intro {
    background: #000;
    padding: var(--intro-pad-block) var(--section-pad-inline) 0;
    margin: 0;
    scroll-margin-top: calc(var(--header-h) + 32px);
  }

  .intro-shell.site-container {
    display: flex;
    justify-content: flex-start;
    max-width: calc(var(--content-max) + 120px);
    margin: 0 auto;
    padding-left: clamp(0px, 1vw, 12px);
    padding-right: clamp(8px, 1.8vw, 18px);
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  .intro-panel {
    display: grid;
    grid-template-columns: minmax(0, 0.62fr) 1px minmax(0, 0.38fr);
    align-items: center;
    background: var(--background);
    padding-block: clamp(1.25rem, 2.4vw, 2.6rem);
    padding-right: clamp(1.5rem, 3.5vw, 2.75rem);
    padding-left: 0;
    color: var(--text-color);
    font-family: "Inter", system-ui, sans-serif;
    letter-spacing: normal;
    width: 100%;
    margin-bottom: 0 !important;
  }

  .intro-text {
    display: grid;
    gap: var(--text-block-gap);
    padding-right: clamp(1rem, 2vw, 1.75rem);
    margin-top: -10px;
    max-width: var(--intro-text-width);
  }

  /* ✅ natürlicher Zeilenabstand + weniger "Gap" zwischen Zeilen */
  .intro-title {
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .intro-title-line {
    display: block;
    line-height: var(--heading-line-height);
  }

  .intro-title-accent {
    color: var(--accent);
    display: inline-block;
    margin-right: 0;
  }

  .intro-copy {
    margin: 0;
    max-width: var(--text-max-width);
    font-size: clamp(1.02rem, 1.1vw, 1.15rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.86);
    text-shadow: 0 0 14px rgba(255, 255, 255, 0.08);
    text-wrap: pretty;
    gap: var(--text-block-gap);
  }

  .intro-divider {
    width: 1px;
    height: var(--intro-divider-height);
    background: var(--accent-light);
    margin: 0 clamp(1.4rem, 3vw, 2.4rem);
    transform: translate(
      var(--intro-divider-offset-x),
      var(--intro-divider-offset-y)
    );
    align-self: center;
  }

  .intro-icon {
    min-height: var(--intro-icon-size);
    height: var(--intro-icon-size);
    display: flex;
    align-items: center;
    justify-content: center;
    transform: translateX(var(--intro-icon-offset-x))
      translateY(var(--intro-icon-offset-y));
    justify-content: var(--intro-icon-align);
  }


.intro-cocktail-icon {
  width: 300px;
  height: 300px;
  background-color: var(--accent) !important;
}


  .intro-banner {
    position: relative;
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    margin-top: var(--intro-banner-gap);
    height: var(--intro-banner-height, clamp(420px, 60vh, 760px));
    overflow: hidden;
    background: #000;
  }

  .intro-banner-bg {
    position: absolute;
    inset: -25% 0 0 0;
    height: 150%;
    background-image: url("/images/cocktail-catering-moving-bars.jpg");
    background-size: cover;
    background-position: center top;
    background-repeat: no-repeat;
  }

  @media (hover: hover) and (pointer: fine) {
    .intro-banner-bg {
      background-attachment: fixed;
    }
  }

  @media (max-width: 900px) {
    .intro-panel {
      grid-template-columns: 1fr;
      row-gap: 1.5rem;
    }

    .intro-divider {
      height: 1px;
      width: 100%;
      margin: clamp(1rem, 3vw, 1.5rem) 0;
      background: var(--accent-light);
    }

    .intro-text {
      padding-right: 0;
    }

    .intro-icon {
      min-height: 0;
    }
  }

  @media (min-width: 901px) {
    .intro-panel {
      min-height: var(--intro-panel-min, clamp(400px, 34vw, 520px));
    }
  }
</style>
