---
const {
  src,
  alt = "Moving Bars",
  height = "clamp(420px, 60vh, 760px)",
} = Astro.props;
---

<section class="mb-parallax full-bleed parallax-frame" style={`--mb-h:${height};`}>
  <img
    class="mb-parallax__img parallax-media"
    data-speed="0.4"
    src={src}
    alt={alt}
    loading="eager"
    decoding="async"
    fetchpriority="high"
  />
  <div class="parallax-content" aria-hidden="true"></div>
</section>

<style>
.full-bleed{
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}

.mb-parallax{
  height: var(--mb-h);
}

.mb-parallax__img{
  height: 140%;
  object-fit: cover;
  object-position: center bottom;
}

@media (prefers-reduced-motion: reduce){
  .mb-parallax__img{ transform: none !important; }
}
</style>
