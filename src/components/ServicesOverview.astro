---
const {
  exclude,
  headline = "DEINE WÜNSCHE – UNSERE LEISTUNGEN",
} = Astro.props;

const services = [
  {
    slug: "cocktail-catering",
    title: "Full Service Cocktail Catering",
    excerpt: "Profitiere von 20 Jahren Erfahrung im Bereich Cocktail Catering und mobile Cocktailbar mieten in Berlin und Deutschland. Wir bieten Dir ein RundumSorglos-Paket, das alles enthält und Du Dich um nichts weiter kümmern müssen. Die mobile Cocktailbar, alle benötigten Zutaten, Gläser und Eis werden von uns geliefert. Professionelle Barkeeper kümmern sich um Deine Gäste.",
    href: "/cocktail-catering",
    cta: "Mehr erfahren",
  },
  {
    slug: "mobile-bar",
    title: "Mobile Bar mieten",
    excerpt: "Du suchst eine mobile Bar für Deine Feier, Veranstaltung oder Deinen Event in Berlin? Dann haben wir ganz sicher eine passende Lösung für Dich. Unser Barsystem passt sich jeder Veranstaltungsgröße an. Verschiedene Kombinationsmöglichkeiten und flexible Beleuchtung lassen keine Wünsche offen. Mit oder ohne beleuchtetes Rückbuffet ist unsere mobile Bar das optische Highlight Deiner Veranstaltung.",
    href: "/mobile-bar",
    cta: "Details ansehen",
  },
  {
    slug: "cocktail-show",
    title: "Cocktail Show & Showbarkeeper",
    excerpt: "Du willst noch mehr? Entertainment und Unterhaltung für Deine Gäste? Buche zusätzlich für die mobile Cocktailbar in Berlin einen Showbarkeeper oder eine Cocktailshow. Wirbelnde Flaschen und Shaker, Cocktailartistik während der Herstellung der Cocktails oder eröffne die mobile Cocktailbar mit einer Cocktailshow.",
    href: "/cocktail-show",
    cta: "Zur Show",
  },
  {
    slug: "cocktailkurse",
    title: "Cocktailkurse",
    excerpt: "Mixology-Workshops mit Profi-Tipps und Spaßfaktor.",
    href: "/cocktailkurse",
    cta: "Jetzt buchen",
  },
  {
    slug: "kaffeecatering",
    title: "Kaffee Catering",
    excerpt: "Barista-Qualität mit Siebträgermaschinen vor Ort.",
    href: "/kaffeecatering",
    cta: "Alles ansehen",
  },
];

const visible = services.filter((service) => service.slug !== exclude);
---

<section class="services-overview parallax-section" aria-label="Unsere Leistungen">
  <div
    class="services-bg parallax-bg"
    role="presentation"
    style="background-image: url('/images/hero.jpg'); opacity: var(--services-bg-opacity);"
  ></div>
  <div class="services-overlay" aria-hidden="true"></div>

  <div class="services-content">
    <div class="services-shell">
      <header class="services-heading">
        <div class="services-head">
          <h2 class="services-title">{headline}</h2>
          <span class="services-divider" aria-hidden="true"></span>
        </div>
      </header>

      <div
        class:list={{
          "services-grid": true,
          "is-count-5": visible.length === 5,
        }}
        role="list"
      >
        {visible.map((service) => (
          <article class="service-card" role="listitem" aria-label={service.title}>
            <div
              class:list={{
                "service-media": true,
                [`is-${service.slug}`]: true,
              }}
              aria-hidden="true"
            ></div>

            <div class="service-body">
              <h3 class="service-title">{service.title}</h3>
              <p class="service-excerpt">{service.excerpt}</p>
            </div>

            <a class="service-cta" href={service.href}>{service.cta}</a>
          </article>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .services-overview {
    --services-card-radius: 0px;

    position: relative;
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    overflow: hidden;
    padding: var(--services-pad-block) var(--services-pad-inline);
    color: var(--text-color);
    background: #000;
  }

  .services-bg {
    position: absolute;
    inset: 0;
    z-index: 1;
  }

  .services-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, var(--services-overlay-opacity));
    z-index: 2;
  }

  .services-content {
    position: relative;
    z-index: 3;
  }

  .services-shell {
    max-width: var(--services-max-width);
    margin: 0 auto;
    display: grid;
    gap: clamp(2rem, 4vw, 3rem);
  }

  .services-heading {
    display: grid;
    justify-items: start;
    gap: var(--services-heading-gap);
    text-transform: uppercase;
    letter-spacing: 0.06em;
  }

  .services-head {
    display: grid;
    width: 100%;
    max-width: var(--services-max-width);
  }

  .services-title {
    margin: 0;
    font-size: clamp(2rem, 4.5vw, 3rem);
    color: var(--heading-color);
  }

  .services-divider {
    display: inline-block;
    width: var(--services-divider-width);
    height: var(--services-divider-height);
    margin-top: var(--services-divider-gap);
    background: var(--accent);
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--services-card-width), 1fr));
    gap: var(--services-grid-gap);
    justify-items: center;
  }

  .service-card {
    width: 100%;
    max-width: var(--services-card-width, 320px);
    background: var(--services-card-bg);
    border: var(--services-card-border);
    border-radius: 0;
    box-shadow: var(--services-card-glow);
    padding: clamp(1.25rem, 2.2vw, 1.6rem);
    display: grid;
    grid-template-rows: auto 1fr auto;
    gap: clamp(1rem, 1.8vw, 1.25rem);
  }

  .service-media {
    width: 100%;
    aspect-ratio: var(--services-card-img-ratio);
    border-radius: 0;
    background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.35), rgba(var(--accent-rgb), 0.08));
    border: 1px solid rgba(var(--accent-rgb), 0.35);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .service-media.is-cocktail-catering {
    background-image: url("/images/cocktail-catering-moving-bars.jpg");
  }

  .service-media.is-mobile-bar {
    background-image: url("/images/mobile-bar-mieten.jpg");
  }

  .service-media.is-cocktail-show {
    background-image: url("/images/cocktailshow-berlin.jpg");
  }

  .service-media.is-cocktailkurse {
    background-image: url("/images/mobiler-cocktailkurs-berlin.jpg");
  }

  .service-media.is-kaffeecatering {
    background-image: url("/images/kaffee-catering.jpg");
  }

  .service-body {
    display: grid;
    gap: clamp(0.5rem, 1.2vw, 0.85rem);
  }

  .service-title {
    margin: 0;
    font-size: clamp(1.15rem, 1.6vw, 1.35rem);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--heading-color);
  }

  .service-excerpt {
    margin: 0;
    color: rgba(255, 255, 255, 0.82);
    line-height: 1.6;
  }

  .service-cta {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 0.9rem 1rem;
    background: rgba(var(--accent-rgb), 0.12);
    color: var(--accent);
    border: 1px solid rgba(var(--accent-rgb), 0.65);
    border-radius: 0;
    box-shadow: 0 0 22px rgba(var(--accent-rgb), 0.28);
    transition: background 160ms ease, border-color 160ms ease, color 160ms ease;
  }

  .service-cta:hover,
  .service-cta:focus-visible {
    background: rgba(var(--accent-rgb), 0.2);
    border-color: rgba(var(--accent-rgb), 0.95);
    color: #fff;
    outline: none;
  }

  @media (min-width: 900px) {
    .services-grid {
      grid-template-columns: repeat(12, 1fr);
      justify-items: stretch;
    }

    .service-card {
      max-width: none;
      grid-column: span 4;
    }

    .services-grid.is-count-5 > .service-card:nth-child(4) {
      grid-column: 3 / span 4;
    }

    .services-grid.is-count-5 > .service-card:nth-child(5) {
      grid-column: 7 / span 4;
    }
  }

  @media (max-width: 820px) {
    .services-overview {
      padding-inline: var(--content-pad);
    }
  }
</style>
